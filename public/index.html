<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
  <title>Wild Time</title>

  <!-- TonConnect UI (библиотека, без инициализации здесь) -->
  <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
  <!-- Telegram Web App SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- Предзагрузка шрифта (если используешь mf) -->
  <link rel="preload" href="/fonts/mf.woff2" as="font" type="font/woff2" crossorigin>

  <!-- Стили проекта -->
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
<!-- Splash Screen с фоновым изображением -->
<div id="splash" class="splash">
  <!-- Фоновое изображение - замените на своё -->
  <div class="splash__background">
    <img src="/images/splashbackgroung.jpg" alt="" class="splash__bg-image">
  </div>
  
  <!-- Затемняющий оверлей -->
  <div class="splash__overlay"></div>
  
  <!-- Контент по центру -->
  <div class="splash__center">
    <div class="splash__brandRow">
      <img src="/images/logo.png" alt="WildGift" class="splash__logo">
      <div class="splash__brand">WildGift</div>
    </div>

    <div class="splash__progress">
      <div class="splash__bar">
        <div class="splash__bar-fill" id="splash-fill"></div>
      </div>
      <!-- Процент скрыт по умолчанию -->
      <div class="splash__percent" id="splash-percent" hidden>0%</div>
    </div>
  </div>
</div>

  <div class="app">

    <!-- ===== TOP BAR ===== -->
    <header class="topbar" role="banner">
      <!-- Пилюля профиля (аватар + имя) -->
      <button id="userPill" class="pill pill--user" type="button" aria-label="Open profile">
        <img id="userAvatar" class="pill-avatar" src="/images/avatar-default.png" alt="" />
        <span id="userName" class="pill-username">Guest</span>
      </button>
    
      <!-- TON баланс (открывает депозит) -->
      <div class="balance">
        <button id="tonPill" class="pill pill--ton" type="button" aria-label="TON balance" data-open-deposit>
          <img src="/icons/ton.svg" alt="" class="pill-icon" />
          <span id="tonAmount">0.00</span>
          <img src="/icons/plus.svg" alt="" class="pill-plus-icon" />
        </button>
      </div>
    </header>

    <!-- ===== HISTORY (иконки последних выпадений — добавляй через JS) ===== -->
    <section class="history" aria-label="Last results">
      <div id="historyList" class="history-list">
        <!-- пример элемента истории с иконкой:
        <div class="history-item">
          <img src="/images/history/1x_small.png" alt="1x" />
        </div>
        -->
      </div>
    </section>

    <!-- ===== WHEEL PAGE ===== -->
    <main id="wheelPage" class="page page-active">
      <section class="wheel" aria-label="Wheel">
        <canvas id="wheelCanvas" width="420" height="420" aria-label="Wheel canvas"></canvas>
        <div id="pointer" class="pointer" aria-hidden="true">▼</div>
        <div id="countdown" class="countdown" aria-live="polite" aria-atomic="true">
          <span id="countNum">9</span>
        </div>
      </section>

      <!-- ===== BET OVERLAY ===== -->
      <section id="betOverlay" class="bet-overlay" aria-label="Betting panel">
        <div class="bet-controls">
          <!-- Суммы TON (SVG-иконки) -->
          <div class="bet-amounts" aria-label="Bet amount">
            <button class="amount-btn" data-amount="0.5">
              <img src="/icons/amount-0.5.svg" alt="0.5 TON" />
            </button>
            <button class="amount-btn" data-amount="1">
              <img src="/icons/amount-1.svg" alt="1 TON" />
            </button>
            <button class="amount-btn" data-amount="2.5">
              <img src="/icons/amount-2.5.svg" alt="2.5 TON" />
            </button>
            <button class="amount-btn" data-amount="5">
              <img src="/icons/amount-5.svg" alt="5 TON" />
            </button>
          </div>

          <!-- Действия (SVG-иконки) -->
          <div class="bet-actions" aria-label="Bet actions">
            <button class="action-btn undo" data-action="undo" aria-label="Undo">
              <img src="/icons/undo.svg" alt="" />
            </button>
            <button class="action-btn clear" data-action="clear" aria-label="Clear">
              <img src="/icons/clear.svg" alt="" />
            </button>
            <button class="action-btn repeat" data-action="repeat" aria-label="Repeat">
              <img src="/icons/repeat.svg" alt="" />
            </button>
          </div>
        </div>

        <!-- Сетка лотов (большие картинки) -->
        <div class="bet-grid" role="grid" aria-label="Select segment">
          <!-- ряд 1 -->
          <button class="bet-tile muted" role="gridcell" data-seg="1x">
            <img class="bet-img" src="/images/bets/1x.png" alt="1x" />
            <span class="bet-badge" data-badge-for="1x" hidden>0</span>
          </button>
          <button class="bet-tile muted" role="gridcell" data-seg="3x">
            <img class="bet-img" src="/images/bets/3x.png" alt="3x" />
            <span class="bet-badge" data-badge-for="3x" hidden>0</span>
          </button>
          <!-- ряд 2 -->
          <button class="bet-tile muted" role="gridcell" data-seg="7x">
            <img class="bet-img" src="/images/bets/7x.png" alt="7x" />
            <span class="bet-badge" data-badge-for="7x" hidden>0</span>
          </button>
          <button class="bet-tile muted" role="gridcell" data-seg="11x">
            <img class="bet-img" src="/images/bets/11x.png" alt="11x" />
            <span class="bet-badge" data-badge-for="11x" hidden>0</span>
          </button>
          <!-- ряд 3 (бонусы) -->
          <button class="bet-tile bonus" role="gridcell" data-seg="50&50">
            <img class="bet-img" src="/images/bets/50-50.png" alt="50&50" />
            <span class="bet-badge" data-badge-for="50&50" hidden>0</span>
          </button>
          <button class="bet-tile bonus" role="gridcell" data-seg="Loot Rush">
            <img class="bet-img" src="/images/bets/loot.png" alt="Loot Rush" />
            <span class="bet-badge" data-badge-for="Loot Rush" hidden>0</span>
          </button>
          <!-- ряд 4 (широкий бонус) -->
          <button class="bet-tile bonus wide" role="gridcell" data-seg="Wild Time">
            <img class="bet-img" src="/images/bets/wild.png" alt="Wild Time" />
            <span class="bet-badge" data-badge-for="Wild Time" hidden>0</span>
          </button>
        </div>
      </section>
    </main>




   <!-- ===== CASES PAGE ===== -->
   <main id="casesPage" class="page">
    <!-- Filter tabs -->
    <div class="cases-filter">
      <button class="filter-tab active" data-filter="all">All</button>
      <button class="filter-tab" data-filter="limited">Limited</button>
      <button class="filter-tab" data-filter="rare">Rare</button>
    </div>

    <section class="cases" aria-label="Cases">
      <div class="cases-grid" id="casesGrid">
        <!-- Cases будут генерироваться через JS -->
      </div>
    </section>
  </main>

  <!-- ===== CASE DETAIL PAGE ===== -->
  <main id="caseDetailPage" class="page">
    <button id="caseBackBtn" class="back-btn" aria-label="Back to cases">
      <svg viewBox="0 0 24 24" class="back-icon">
        <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" fill="none"/>
      </svg>
      <span>Back</span>
    </button>

    <section class="case-detail">
      <div class="case-detail__hero">
        <img id="caseDetailImage" src="/images/cases/case-01.png" alt="" class="case-detail__image" />
        <div class="case-detail__glow"></div>
        
        <!-- Progress indicator -->
        <div id="caseProgress" class="case-progress">
          <div class="case-progress__bar">
            <div class="case-progress__fill"></div>
          </div>
          <div class="case-progress__text">
            <span id="progressCurrent">0</span> / <span id="progressTotal">0</span>
          </div>
        </div>
      </div>

      <div class="case-detail__info">
        <div class="case-detail__header">
          <h2 id="caseDetailTitle" class="case-detail__title">Case Name</h2>
          <span id="caseDetailRarity" class="case-rarity-badge">Limited</span>
        </div>
        
        <p id="caseDetailDescription" class="case-detail__description">
          Description of the case
        </p>
        
        <div class="case-detail__stats">
          <div class="stat-item">
            <span class="stat-label">Price</span>
            <div class="stat-value">
              <img src="/icons/stars.svg" alt="" class="stat-icon" />
              <span id="caseDetailPrice">0</span>
            </div>
          </div>
          <div class="stat-item">
            <span class="stat-label">Total Opened</span>
            <div class="stat-value">
              <span id="caseTotalOpened">0</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Action buttons -->
      <div class="case-actions">
        <button id="openCaseBtn" class="btn btn--primary btn--large">
          <span class="btn__text">Open for 0 ⭐</span>
        </button>
        
        <button id="viewRewardsBtn" class="btn btn--ghost btn--large">
          <span class="btn__text">View All Rewards</span>
        </button>
      </div>

      <!-- Rewards section -->
      <div id="caseRewards" class="case-rewards">
        <h3 class="case-rewards__title">
          <span>Main Prize</span>
        </h3>
        <div id="mainPrize" class="main-prize">
          <!-- Главный приз -->
        </div>

        <h3 class="case-rewards__title">
          <span>Other prizes</span>
        </h3>
        <div id="caseRewardsList" class="case-rewards__list">
          <!-- Остальные призы -->
        </div>
      </div>
    </section>
  </main>

    <!-- ===== INVENTORY PAGE ===== -->
    <main id="inventoryPage" class="page">
      <section class="inventory" aria-label="Inventory">
        <h2>Inventory</h2>
        <div class="inventory-grid">
          <!-- Плейсхолдеры предметов -->
          <div class="inv-card">
            <img src="/images/inventory/item-01.png" alt="Item 1" class="inv-img" />
            <div class="inv-title">Item 1</div>
          </div>
          <div class="inv-card">
            <img src="/images/inventory/item-02.png" alt="Item 2" class="inv-img" />
            <div class="inv-title">Item 2</div>
          </div>
          <div class="inv-card">
            <img src="/images/inventory/item-03.png" alt="Item 3" class="inv-img" />
            <div class="inv-title">Item 3</div>
          </div>
        </div>
      </section>
    </main>

   <!-- ===== PROFILE PAGE ===== -->
<main id="profilePage" class="page">
  <section class="profile-card">
    <!-- Аватар + имя -->
    <img id="profileAvatar" class="profile-ava" src="/images/avatar-default.png" alt="" />
    <h2 id="profileName" class="profile-name">User</h2>
    <p id="profileHandle" class="profile-handle">@username</p>

    <!-- Переключатель валюты -->
    <div class="currency-switch">
      <button class="curr-btn curr-btn--active" data-currency="ton">
        <img src="/icons/ton.svg" alt="" class="curr-icon">
        <span>TON</span>
      </button>
      <button class="curr-btn" data-currency="stars">
        <img src="/icons/stars.svg" alt="" class="curr-icon">
        <span>Stars</span>
      </button>
    </div>

    <!-- Кошелёк -->
    <button id="walletPill" class="wallet-pill" type="button">
      <img src="/icons/ton.svg" class="icon-16" alt="">
      <span id="profileWallet">Not connected</span>
      <svg class="chev" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5"/></svg>
    </button>

    <div id="walletDetails" class="wallet-details" hidden>
      <div id="walletFull" class="wallet-full mono">—</div>
      <div class="row">
        <button id="walletCopy" class="btn">Copy</button>
        <button id="profileDisconnect" class="btn btn-danger">Disconnect</button>
      </div>
    </div>

    <!-- Статистика -->
    <div class="profile-stats">
      <div class="stat-card">
        <div class="stat-value">0</div>
        <div class="stat-label">Games</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">0.00</div>
        <div class="stat-label">Won</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">0%</div>
        <div class="stat-label">Win Rate</div>
      </div>
    </div>

    <!-- Последние транзакции -->
    <div class="profile-section">
      <h3 class="section-title">Recent Transactions</h3>
      <div class="tx-list">
        <div class="tx-empty">No transactions yet</div>
      </div>
    </div>
  </section>
</main>
    

    <!-- ===== BOTTOM NAV (SVG + подписи) ===== -->
    <nav class="bottom-nav" role="navigation" aria-label="Bottom navigation">
      <button class="nav-item active" data-target="wheelPage" aria-label="Wheel">
        <img src="/icons/wheel.svg" alt="" class="nav-icon" />
        <span class="nav-label">Wheel</span>
      </button>
      <button class="nav-item" data-target="casesPage" aria-label="Cases">
        <img src="/icons/cases.svg" alt="" class="nav-icon" />
        <span class="nav-label">Cases</span>
      </button>
      <button class="nav-item" data-target="inventoryPage" aria-label="Inventory">
        <img src="/icons/inventory.svg" alt="" class="nav-icon" />
        <span class="nav-label">Inventory</span>
      </button>
      <button class="nav-item" data-target="profilePage" aria-label="Profile">
        <img src="/icons/profile.svg" alt="" class="nav-icon" />
        <span class="nav-label">Profile</span>
      </button>
    </nav>

    <!-- TON Deposit Popup (по дизайну) -->
<div id="tonDepositPopup" class="ton-popup">
  <div class="ton-popup__backdrop"></div>
  <div class="ton-popup__content">
    <!-- Кнопка закрытия -->
    <button id="tonPopupClose" class="ton-popup__close" aria-label="Close">×</button>
    
    <!-- Заголовок -->
    <h2 class="ton-popup__title">Deposit Rolls Balance</h2>
    
    <!-- Большой баланс по центру -->
    <div class="ton-popup__big-balance">
      <span id="tonBigBalance" class="ton-popup__big-number">0</span>
      <span class="ton-popup__big-currency">TON</span>
    </div>
    
    <!-- Баланс кошелька (маленький снизу) -->
    <div class="ton-popup__wallet-balance">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" class="ton-popup__wallet-icon">
        <path d="M17 7H15V5C15 3.34 13.66 2 12 2H5C3.34 2 2 3.34 2 5V15C2 16.66 3.34 18 5 18H17C17.55 18 18 17.55 18 17V8C18 7.45 17.55 7 17 7ZM15 13H13V11H15V13Z" fill="currentColor" opacity="0.6"/>
      </svg>
      <span id="tonWalletBalance">1.51 TON</span>
    </div>
    
    <!-- Разделитель -->
    <div class="ton-popup__divider"></div>
    
    <!-- Кнопка Connect Wallet (показывается если не подключен) -->
    <button id="btnConnectWallet" class="ton-popup__deposit-btn">
      Connect Wallet
    </button>
    
    <!-- Кнопка Deposit TON (показывается если подключен) -->
    <button id="btnDepositTon" class="ton-popup__deposit-btn" style="display: none;">
      Deposit TON
    </button>
  </div>
</div>
</div>

<!-- Добавь эти элементы перед закрывающим </body> в твоём index.html -->

<!-- ===== OPENING ANIMATION OVERLAY ===== -->
<div id="openingOverlay" class="opening-overlay" hidden>
  <div class="opening-content">
    <div id="openingReel" class="opening-reel">
      <!-- Призы генерируются через JS -->
    </div>
  </div>
</div>

<!-- ===== RESULT MODAL ===== -->
<div id="resultModal" class="result-modal" hidden>
  <div class="result-modal__backdrop"></div>
  <div class="result-modal__content">
    <button id="resultClose" class="result-modal__close" aria-label="Close">×</button>
    
    <div class="result-confetti"></div>
    
    <div class="result-gift">
      <div class="result-gift__image">
        <div id="resultGiftIcon" class="result-gift__icon">🎁</div>
      </div>
      <h3 id="resultGiftName" class="result-gift__name">Gift Name</h3>
      <div id="resultGiftValue" class="result-gift__value">
        <img src="/icons/stars.svg" alt="" />
        <span>0</span>
      </div>
    </div>
    
    <button id="resultOpenAnother" class="btn btn--primary btn--large">
      <span class="btn__text">🎁 Try Again</span>
    </button>
  </div>
</div>

<!-- ===== INVENTORY GRID (если ещё нет) ===== -->
<style>
  .inventory-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 12px;
    padding: 16px;
  }
  
  @media (max-width: 380px) {
    .inventory-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
  
  /* Стили для отображения баланса кошелька */
  .wallet-balance-display {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 16px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    margin: 12px 0;
  }
  
  .wallet-icon {
    width: 24px;
    height: 24px;
  }
  
  .wallet-balance-label {
    font-size: 14px;
    color: rgba(255, 255, 255, 0.6);
  }
  
  .wallet-balance-value {
    font-size: 16px;
    font-weight: 600;
    color: #fff;
  }
</style>

  <!-- Скрипты проекта -->
  <script src="js/splash.js" defer></script>
  <script src="/js/app.js" defer></script>
  <script src="/js/tondep.js" defer></script>
  <script src="/js/starsdep.js" defer></script>
  <script src="/js/wheel.js" defer></script>
  <script src="/js/switch.js" defer></script>
  <script src="/js/cases.js" defer></script>
  <script src="/js/profile.js" defer></script>

</body>
</html>